<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" name="viewport"><link rel="alternate icon" type="image/png" href="/img/favicon.png"><title>Hello world |</title><link rel="stylesheet" href="/css/reset.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/markdown.css"><link rel="stylesheet" href="/css/fonts.css"><meta name="generator" content="Hexo 7.0.0"></head><body><div class="paper"><div class="paper-main"><div class="post-header"><a class="logo" href="/">Hello world</a> <a class="go-home" href="/"><svg width="8" height="14" viewBox="0 0 8 14"><path d="M7 1L1 7l6 6" stroke="#000" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div><div class="post-main"><div class="post-main-title">Hexo后台运行</div><div class="post-meta">2023-11-03</div><div class="post-md"><h3 id="1-安装pm2"><a href="#1-安装pm2" class="headerlink" title="1.安装pm2"></a>1.安装pm2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># npm install -g pm2</span><br></pre></td></tr></table></figure><h3 id="2-编写一个执行脚本"><a href="#2-编写一个执行脚本" class="headerlink" title="2.编写一个执行脚本"></a>2.编写一个执行脚本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /myblog</span><br><span class="line"># vim run.js</span><br></pre></td></tr></table></figure><p>添加如下内容:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const &#123; exec &#125; = require(&#x27;child_process&#x27;)</span><br><span class="line">exec(&#x27;hexo server -p 指定端口&#x27;,(error, stdout, stderr) =&gt; &#123;</span><br><span class="line">if(error)&#123;</span><br><span class="line">        console.log(&#x27;exec error: $&#123;error&#125;&#x27;)</span><br><span class="line">        return</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#x27;stdout: $&#123;stdout&#125;&#x27;);</span><br><span class="line">console.log(&#x27;stderr: $&#123;stderr&#125;&#x27;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-使用pm2运行脚本"><a href="#3-使用pm2运行脚本" class="headerlink" title="3.使用pm2运行脚本"></a>3.使用pm2运行脚本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cd /myblog</span><br><span class="line"></span><br><span class="line"># pm2 start run.js</span><br></pre></td></tr></table></figure><p>运行起来后可以使用pm2 show + 进程pid查看后台hexo进行</p></div></div><div class="footer"><span>Copyright © 2022 Hello world</span> <span>Theme Designed By <a target="_blank" href="https://zheli.design/one-paper">這李設計</a></span></div><link rel="stylesheet" href="/css/a11y-dark.min.css"><script src="/js/highlight.min.js"></script><script src="/js/highlightjs-line-numbers.js"></script><script>hljs.initHighlightingOnLoad(),hljs.initLineNumbersOnLoad()</script></div></div></body></html>